name: enemy
move_speed: 2.5
follow_range: 200
attack_range: 40
attack_frames: 30
transform:
  x: 0
  y: 0
  scale_x: 1
  scale_y: 1
  rotation: 0
sprite:
  use_source: false
  origin_x: 0
  origin_y: 0
collider:
  width: 32
  height: 40
  offsetX: 15
  offsetY: 15
render_layer:
  index: 90
animation:
  sheet: enemy-Sheet.png
  current: idle
  defs:
    idle:
      name: idle
      row: 0
      col_start: 0
      frame_count: 1
      frame_w: 64
      frame_h: 64
      fps: 8
      loop: true
    run:
      name: run
      row: 1
      col_start: 0
      frame_count: 5
      frame_w: 64
      frame_h: 64
      fps: 8
      loop: true
    attack:
      name: attack
      row: 2
      col_start: 0
      frame_count: 15
      frame_w: 64
      frame_h: 64
      fps: 10
      loop: false
fsm:
  initial: idle
  states:
    idle:
      on_enter:
        - set_animation: idle
      while:
        - stop_x: true
    follow:
      on_enter:
        - set_animation: run
      while:
        - move_towards_player: true
        - face_player: true
    attack:
      on_enter:
        - set_animation: attack
        - start_attack_timer: true
      while:
        - stop_x: true
        - tick_timer: true
  transitions:
    idle:
      see_player: follow
    follow:
      lose_player: idle
      in_attack_range: attack
    attack:
      timer_expired: follow
      lose_player: idle